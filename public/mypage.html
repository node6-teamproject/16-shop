<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            margin: 0;
            font-family: 'Inter', sans-serif;
        }

        .Mypagebar {
            width: 285px;
            height: 949px;
            position: absolute;
            left: 0px;
            top: 75px;
            background: white;
            border: 1px black solid;
        }

        .menu-text {
            width: 145px;
            height: 30px;
            left: 70px;
            position: absolute;
            text-align: center;
            color: black;
            font-size: 32px;
            font-family: Inter;
            font-weight: 600;
            word-wrap: break-word;
        }

        .menu-text.gray {
            color: #E0DCDC;
            font-size: 15px;
        }

        .Emailbox,
        .Nicknamebox,
        .Addressbox,
        .Phonebox,
        .Rolebox,
        .Cashbox {
            width: 303px;
            height: 30px;
            position: absolute;
            background: #D9D9D9;
            left: 703px;
        }

        .Emailbox {
            top: 361px;
        }

        .Nicknamebox {
            top: 409px;
        }

        .Addressbox {
            top: 457px;
        }

        .Phonebox {
            top: 505px;
        }

        .Rolebox {
            top: 603px;
        }

        .Cashbox {
            top: 553px;
        }

        .label {
            position: absolute;
            left: 703px;
            text-align: center;
            color: black;
            font-size: 15px;
            font-family: Inter;
            font-weight: 600;
            word-wrap: break-word;
        }

        .Modify {
            width: 145px;
            height: 29px;
            position: absolute;
            top: 651px;
            left: 775px;
            text-align: center;
            color: black;
            font-size: 15px;
            font-family: Inter;
            font-weight: 600;
            word-wrap: break-word;
        }

        .Component1 {
            width: 1440px;
            height: 75px;
            position: absolute;
            top: 0px;
            background: #51FF00;
        }

        .Tab {
            width: 1440px;
            height: 75px;
            left: 0px;
            top: 0px;
            position: absolute;
        }

        .menu-tab {
            height: 59px;
            top: 18px;
            position: absolute;
            color: black;
            font-size: 32px;
            font-family: Inter;
            font-weight: 400;
            word-wrap: break-word;
        }
    </style>
</head>

<body>
    <div style="width: 1440px; height: 1024px; position: relative; background: white">
        <div class="Mypagebar"></div>
        <div class="menu-text" style="top: 319px;">주문 목록</div>
        <div class="menu-text" style="top: 390px;">리뷰 목록</div>
        <div class="menu-text" style="top: 120px;">내 정보</div>
        <div class="menu-text" style="top: 185px;">캐쉬 충전</div>
        <div class="Emailbox"></div>
        <div class="label" style="top: 343px;">이메일</div>
        <div class="Nicknamebox"></div>
        <div class="label" style="top: 391px;">닉네임</div>
        <div class="Addressbox"></div>
        <div class="label" style="top: 439px;">주소</div>
        <div class="Phonebox"></div>
        <div class="label" style="top: 487px;">전화번호</div>
        <div class="Modify">수정</div>
        <div class="Rolebox"></div>
        <div class="label" style="top: 583px; left: 700px;">직업</div>
        <div class="Cashbox"></div>
        <div class="label" style="top: 535px;">캐쉬</div>
        <div class="menu-text" style="top: 250px;">직업 변경</div>
        <div class="Component1">
            <div class="menu-text gray" style="top: 975px;">회원 탈퇴</div>
            <div class="Tab"></div>
            <div class="menu-tab" style="left: 1252px;">로그아웃</div>
            <div class="menu-tab" style="left: 1057.68px;">마이페이지</div>
            <div class="menu-tab" style="left: 623.52px;">상품 관리</div>
            <div class="menu-tab" style="left: 25px;">Home</div>
            <div class="menu-tab" style="left: 469px;">상점</div>
            <div class="menu-tab" style="left: 297px;">특산물</div>
            <div class="menu-tab" style="left: 829px;">주문</div>
        </div>
    </div>

    <script>
        async function fetchUserInfo() {
            try {
                const response = await fetch('/user/userinfo', {
                    method: 'GET',
                    headers: {
                        'Authorization': 'Bearer ' + localStorage.getItem('token'), // JWT 토큰을 헤더에 추가
                    },
                });

                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }

                const { data } = await response.json();

                // HTML 요소에 데이터 출력
                document.querySelector('.Emailbox').textContent = data.email || 'N/A';
                document.querySelector('.Nicknamebox').textContent = data.nickname || 'N/A';
                document.querySelector('.Addressbox').textContent = data.address || 'N/A';
                document.querySelector('.Phonebox').textContent = data.phone || 'N/A';
                document.querySelector('.Rolebox').textContent = data.role || 'N/A';
                document.querySelector('.Cashbox').textContent = data.cash || 'N/A';
                console.log(data)
            } catch (error) {
                console.error('Error fetching user info:', error);
            }
        }

        // 페이지가 로드될 때 사용자 정보 가져오기
        window.onload = fetchUserInfo;
    </script>
</body>

</html>